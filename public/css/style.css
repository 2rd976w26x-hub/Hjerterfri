:root{
  --bg:#0b6623;
  --card:#145214;
  --card2:#0f4a1c;
  --text:#ffffff;
  --muted:rgba(255,255,255,0.75);
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  background:var(--bg);
  color:var(--text);
}
.topbar{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:12px 16px;
  background:#083f16;
  border-bottom:1px solid rgba(255,255,255,0.12);
}
.brand{font-weight:700;letter-spacing:0.2px}
.ver{font-weight:600;opacity:0.85;font-size:0.9em}
.conn{font-size:0.95em;opacity:0.85}
.wrap{max-width:1100px;margin:18px auto;padding:0 14px}
.card{
  background:rgba(0,0,0,0.18);
  border:1px solid rgba(255,255,255,0.12);
  border-radius:14px;
  padding:16px 16px 18px;
  box-shadow:0 8px 30px rgba(0,0,0,0.25);
}
.hidden{display:none}
.muted{color:var(--muted)}
.small{font-size:0.92em}
.grid2{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:14px}
@media (max-width:800px){
  .grid2{grid-template-columns:1fr}
}
.pane{
  background:rgba(0,0,0,0.14);
  border:1px solid rgba(255,255,255,0.10);
  border-radius:12px;
  padding:12px;
}
label{display:block;margin:10px 0 8px}
input{
  width:100%;
  margin-top:6px;
  padding:10px 10px;
  border-radius:10px;
  border:1px solid rgba(255,255,255,0.18);
  background:rgba(255,255,255,0.08);
  color:var(--text);
}
button{
  padding:10px 12px;
  border-radius:10px;
  border:1px solid rgba(255,255,255,0.18);
  background:rgba(255,255,255,0.10);
  color:var(--text);
  cursor:pointer;
}
button:disabled{opacity:0.5;cursor:not-allowed}
button.primary{
  background:rgba(255,255,255,0.18);
  border-color:rgba(255,255,255,0.25);
  font-weight:700;
}
.msg{margin-top:12px;min-height:20px}
.row{display:flex;gap:12px;align-items:center}
.between{justify-content:space-between}
.pill{
  padding:6px 10px;
  border-radius:999px;
  background:rgba(255,255,255,0.12);
  border:1px solid rgba(255,255,255,0.14);
}
.status{
  margin:10px 0 10px;
  padding:10px 12px;
  border-radius:12px;
  background:rgba(0,0,0,0.14);
  border:1px solid rgba(255,255,255,0.10);
}
.panel{
  margin:0 0 14px;
  max-width:460px;
  background:rgba(0,0,0,0.14);
  border:1px solid rgba(255,255,255,0.10);
  border-radius:12px;
  padding:12px;
}
.counterRow{display:flex;justify-content:space-between;padding:4px 0}
.badge{background:rgba(255,255,255,0.15);padding:2px 10px;border-radius:999px}

/* Round table */
.table{
  position:relative;
  height:560px;
  border-radius:18px;
  background:radial-gradient(circle at center, rgba(0,0,0,0.12) 0%, rgba(0,0,0,0.22) 55%, rgba(0,0,0,0.30) 100%);
  border:1px solid rgba(255,255,255,0.12);
  overflow:hidden;
}
.seat{
  position:absolute;
  width:200px;
  padding:10px;
  border-radius:14px;
  background:rgba(0,0,0,0.16);
  border:1px solid rgba(255,255,255,0.12);
  text-align:center;
  transform:translate(-50%,-50%);
}
.seatName{font-weight:800}
.seatMeta{font-size:0.92em;opacity:0.85;margin-top:2px}

.seat-bottom{left:50%;top:86%}
.seat-top{left:50%;top:14%}
.seat-left{left:16%;top:50%}
.seat-right{left:84%;top:50%}

.center{
  position:absolute;
  left:50%;
  top:50%;
  transform:translate(-50%,-50%);
  width:420px;
  max-width:92%;
  text-align:center;
}
.trick{
  position:relative;
  width:300px;
  height:300px;
  margin:0 auto 10px;
}
.trick::before{
  content:"";
  position:absolute;
  inset:14px;
  border-radius:999px;
  border:2px dashed rgba(255,255,255,0.18);
  opacity:0.75;
}
.trick-slot{
  position:absolute;
  width:86px;
  height:120px;
  transform:translate(-50%,-50%);
}
.trick-slot.north{left:50%;top:26%;}
.trick-slot.south{left:50%;top:74%;}
.trick-slot.west{left:26%;top:50%;}
.trick-slot.east{left:74%;top:50%;}
.controls{display:flex;justify-content:center;gap:10px;flex-wrap:wrap}

/* Card visuals + animation */
.playCard{
  position:absolute;
  width:86px;
  height:120px;
  transform:translate(-50%,-50%) scale(0.98);
  opacity:0;
  perspective:900px;
}
.playCard.fly{
  transition:
    left 480ms cubic-bezier(.2,.8,.2,1),
    top 480ms cubic-bezier(.2,.8,.2,1),
    transform 480ms cubic-bezier(.2,.8,.2,1),
    opacity 220ms ease;
  opacity:1;
}
.playCard.collect{
  transition:
    left 520ms cubic-bezier(.2,.8,.2,1),
    top 520ms cubic-bezier(.2,.8,.2,1),
    transform 520ms cubic-bezier(.2,.8,.2,1),
    opacity 220ms ease;
}
.playCard.fadeOut{opacity:0}

.playCard .card3d{
  position:absolute;
  inset:0;
  border-radius:10px;
  transform-style:preserve-3d;
  transition:transform 320ms cubic-bezier(.2,.8,.2,1);
  box-shadow:0 10px 25px rgba(0,0,0,0.35);
}
.playCard.faceUp .card3d{transform:rotateY(180deg)}

.playCard .face{
  position:absolute;
  inset:0;
  backface-visibility:hidden;
  border-radius:10px;
  border:1px solid rgba(255,255,255,0.35);
  overflow:hidden;
}
.playCard .back{
  background-image:url('/assets/cards/back.png');
  background-size:cover;
  background-position:center;
}
.playCard .front{
  transform:rotateY(180deg);
  background:transparent;
  display:flex;
  align-items:center;
  justify-content:center;
}
/* Ensure Piratwhist-style playingcard fills the flip face */
.playCard .front .playingcard{
  width:100%;
  height:100%;
  border-radius:10px;
}

.turnGlow{
  box-shadow:0 0 0 2px rgba(255,255,255,0.35), 0 0 24px rgba(255,255,255,0.22);
}

/* Score */
.scoreRow{display:flex;justify-content:space-between;gap:10px;padding:4px 0}
.scoreName{display:flex;align-items:center;gap:8px;min-width:0}
.dot{width:10px;height:10px;border-radius:999px;background:rgba(255,255,255,0.35)}
.scoreVal{font-weight:800}

/* Other players card backs */
.handCount{margin-top:8px;font-size:0.9em;opacity:0.9}
.backs{display:flex;justify-content:center;gap:4px;flex-wrap:wrap;margin-top:8px}
.backCard{width:22px;height:32px;border-radius:6px;border:1px solid rgba(255,255,255,0.28);background-image:url('/assets/cards/back.png');background-size:cover;background-position:center}

/* Player hand */
.handWrap{
  margin-top:14px;
  padding:12px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,0.12);
  background:rgba(0,0,0,0.14);
}
.handTitle{font-weight:900;margin-bottom:8px}
.hand{
  display:flex;
  flex-wrap:nowrap;
  /* On desktop the hand should span the full width (Piratwhist-like) */
  /* Keep cards side-by-side (no spreading). JS adjusts size+gap to fill width. */
  justify-content:flex-start;
  align-items:flex-end;
  padding:8px 0 4px;
  /* JS sets card size + spacing so all cards fit without overlap */
  --hand-gap: 10px;
  --hand-card-w: 78px;
  --hand-card-h: 108px;
  gap: var(--hand-gap);
}

/* ===== Playing card layout (copied from Piratwhist) ===== */
.playingcard{
  width:56px; height:78px;
  border-radius:12px;
  border:1px solid rgba(0,0,0,.25);
  background: rgba(255,255,255,.97);
  color:#111;
  position:relative;
  overflow:hidden;
  box-shadow: 0 6px 16px rgba(0,0,0,.25);
}
.playingcard.red{ color:#b00020; }

.playingcard .corner{
  position:absolute;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:0px;
  font-weight:900;
  line-height:1;
  letter-spacing:-.2px;
  user-select:none;
}
.playingcard .corner.tl{ left:6px; top:6px; }
.playingcard .corner.br{ right:6px; bottom:6px; transform: rotate(180deg); }
.playingcard .corner .rk{ font-size:14px; }
.playingcard .corner .st{ font-size:14px; margin-top:0px; }

.cardface-svg{
  position:absolute;
  left:0; top:0;
  width:100%; height:100%;
  pointer-events:none;
}
.cardface-svg .pip{
  fill: currentColor;
  font-weight: 900;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
}
.cardface-svg .face-bg{
  fill: rgba(0,0,0,.04);
  stroke: rgba(0,0,0,.18);
  stroke-width: 1.2;
}
.cardface-svg .face-line{
  fill: rgba(0,0,0,.03);
  stroke: currentColor;
  stroke-width: 2;
}
.cardface-svg .face-fill{
  fill: rgba(0,0,0,.06);
  stroke: rgba(0,0,0,.18);
  stroke-width: 1;
}
.cardface-svg .face-banner{
  fill: rgba(255,255,255,.65);
  stroke: rgba(0,0,0,.18);
  stroke-width: 1;
}
.cardface-svg .face-rank{
  fill: currentColor;
  font-weight: 900;
  font-size: 14px;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
}

/* Card back (butterflies image) */
.playingcard.back{
  background-image: url('/assets/cards/back.png');
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}
.playingcard.back .corner,
.playingcard.back .cardface-svg{ display:none !important; }

/* Hand buttons are transparent; the inner .playingcard provides the visuals */
.cardBtn, .handCard{
  padding:0;
  border:none;
  background:transparent;
  cursor:pointer;
  user-select:none;
  transition: transform 140ms ease, opacity 140ms ease;
}
.cardBtn:disabled, .handCard.illegal{ opacity:.35; cursor:not-allowed; }
.handCard:hover, .cardBtn:hover{ transform: translateY(-10px) scale(1.03); z-index:20; }

/* Size the playing card inside the hand from the JS-controlled CSS vars */
.hand .playingcard, #hand .playingcard{
  width: var(--hand-card-w);
  height: var(--hand-card-h);
}

/* Selected pass cards: lift ~10% of card height and add outline */
.handCard.selected{
  transform: translateY(calc(-0.10 * var(--hand-card-h))) scale(1.02);
  z-index:25;
}
.handCard.selected .playingcard{
  outline: 3px solid rgba(255,255,255,0.75);
  box-shadow: 0 0 0 2px rgba(255,255,255,0.18), 0 18px 40px rgba(0,0,0,0.45);
}
.handCard.selected:hover{ transform: translateY(calc(-0.10 * var(--hand-card-h))) scale(1.04); }

/* Passing */
.passInfo{margin-bottom:8px;font-weight:700}


